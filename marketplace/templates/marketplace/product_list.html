{% extends "base.html" %}


<div class="d-flex justify-content-between align-items-center mb-3">
  <h3>Marketplace</h3>
  <form class="d-flex" method="get">
    <input name="q" class="form-control me-2" placeholder="Search product or location" value="{{ q }}">
    <button class="btn btn-outline-success">Search</button>
  </form>
</div>

<div class="row">
  {% for product in products %}
   <p>{{ product.name }} - {{ product.quantity }} kg - â‚¹{{ product.price }}</p>
     {% empty %}
    <p>No products available.</p>
    <div class="col-md-4">
      <div class="card mb-3">
        {% if product.image %}
          <img src="{{ product.image.url }}" class="card-img-top" alt="{{ product.name }}">
        {% endif %}
        <div class="card-body">
          <h5 class="card-title">{{ product.name }}</h5>
          <p class="card-text">{{ product.location }}kg</p>
          <p class="card-text"><strong>${{ product.price }}</strong></p>
          <a href="{% url 'product_detail' product.id %}" class="btn btn-primary">View</a>
        </div>
      </div>
    </div>
     {% endfor %}
   
